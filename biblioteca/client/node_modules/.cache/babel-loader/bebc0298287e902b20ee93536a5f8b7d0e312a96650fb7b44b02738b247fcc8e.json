{"ast":null,"code":"var _jsxFileName = \"E:\\\\Universidad\\\\INTELIGENCIA DE NEGOCIOS\\\\biblioteca\\\\client\\\\src\\\\components\\\\bookform.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { createLibro, updateLibro } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BookForm({\n  editing,\n  onCreated,\n  onUpdated,\n  onCancel\n}) {\n  _s();\n  const [form, setForm] = useState({\n    titulo: '',\n    autor: '',\n    genero: '',\n    anio: '',\n    isbn: '',\n    estado: 'Disponible'\n  });\n  useEffect(() => {\n    if (editing) setForm(editing);else setForm({\n      titulo: '',\n      autor: '',\n      genero: '',\n      anio: '',\n      isbn: '',\n      estado: 'Disponible'\n    });\n  }, [editing]);\n  const change = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const submit = async e => {\n    e.preventDefault();\n    if (!form.titulo || !form.autor || !form.isbn) return alert('Completa título, autor e ISBN');\n    try {\n      if (editing) {\n        const res = await updateLibro(editing.id, form);\n        onUpdated(res.data);\n        onCancel();\n      } else {\n        const res = await createLibro(form);\n        onCreated(res.data);\n        setForm({\n          titulo: '',\n          autor: '',\n          genero: '',\n          anio: '',\n          isbn: '',\n          estado: 'Disponible'\n        });\n      }\n    } catch (err) {\n      console.error(err);\n      if (err.response && err.response.status === 409) alert('ISBN duplicado');else alert('Error al guardar');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: submit,\n    style: {\n      marginBottom: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"titulo\",\n      value: form.titulo,\n      onChange: change,\n      placeholder: \"T\\xEDtulo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"autor\",\n      value: form.autor,\n      onChange: change,\n      placeholder: \"Autor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"genero\",\n      value: form.genero,\n      onChange: change,\n      placeholder: \"G\\xE9nero\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"anio\",\n      value: form.anio,\n      onChange: change,\n      placeholder: \"A\\xF1o\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"isbn\",\n      value: form.isbn,\n      onChange: change,\n      placeholder: \"ISBN\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"estado\",\n      value: form.estado,\n      onChange: change,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Disponible\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"Prestado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        children: \"En reparaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: editing ? 'Actualizar' : 'Crear'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), editing && /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: onCancel,\n      children: \"Cancelar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n_s(BookForm, \"3+1HmDE9YGPn++/j1NdrQf8SSAo=\");\n_c = BookForm;\nvar _c;\n$RefreshReg$(_c, \"BookForm\");","map":{"version":3,"names":["React","useEffect","useState","createLibro","updateLibro","jsxDEV","_jsxDEV","BookForm","editing","onCreated","onUpdated","onCancel","_s","form","setForm","titulo","autor","genero","anio","isbn","estado","change","e","target","name","value","submit","preventDefault","alert","res","id","data","err","console","error","response","status","onSubmit","style","marginBottom","children","onChange","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","_c","$RefreshReg$"],"sources":["E:/Universidad/INTELIGENCIA DE NEGOCIOS/biblioteca/client/src/components/bookform.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { createLibro, updateLibro } from '../services/api';\n\nexport default function BookForm({ editing, onCreated, onUpdated, onCancel }) {\n  const [form, setForm] = useState({ titulo:'', autor:'', genero:'', anio:'', isbn:'', estado:'Disponible' });\n  useEffect(()=> { if (editing) setForm(editing); else setForm({ titulo:'', autor:'', genero:'', anio:'', isbn:'', estado:'Disponible' }); }, [editing]);\n\n  const change = e => setForm({...form, [e.target.name]: e.target.value });\n\n  const submit = async (e) => {\n    e.preventDefault();\n    if (!form.titulo || !form.autor || !form.isbn) return alert('Completa título, autor e ISBN');\n    try {\n      if (editing) {\n        const res = await updateLibro(editing.id, form);\n        onUpdated(res.data);\n        onCancel();\n      } else {\n        const res = await createLibro(form);\n        onCreated(res.data);\n        setForm({ titulo:'', autor:'', genero:'', anio:'', isbn:'', estado:'Disponible' });\n      }\n    } catch (err) {\n      console.error(err);\n      if (err.response && err.response.status === 409) alert('ISBN duplicado');\n      else alert('Error al guardar');\n    }\n  };\n\n  return (\n    <form onSubmit={submit} style={{marginBottom:12}}>\n      <input name='titulo' value={form.titulo} onChange={change} placeholder='Título' />\n      <input name='autor' value={form.autor} onChange={change} placeholder='Autor' />\n      <input name='genero' value={form.genero} onChange={change} placeholder='Género' />\n      <input name='anio' value={form.anio} onChange={change} placeholder='Año' />\n      <input name='isbn' value={form.isbn} onChange={change} placeholder='ISBN' />\n      <select name='estado' value={form.estado} onChange={change}>\n        <option>Disponible</option>\n        <option>Prestado</option>\n        <option>En reparación</option>\n      </select>\n      <button type='submit'>{editing ? 'Actualizar' : 'Crear'}</button>\n      {editing && <button type='button' onClick={onCancel}>Cancelar</button>}\n    </form>\n  );\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}